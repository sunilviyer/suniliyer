@import "tailwindcss";

/* ============================================
   AIDefence Design System - CSS Custom Properties
   Story: 2.1 - Define CSS Custom Properties and Design Tokens
   ============================================ */

:root {
  /* ===== Structural Colors (Dark Mode Default) ===== */
  /* Background: Charcoal Brown - Main app background */
  --color-background: #333d29;

  /* Surface: Slightly lighter than background for cards/panels */
  --color-surface: #3d4831;

  /* Surface Elevated: Even lighter for floating elements */
  --color-surface-elevated: #4a5339;

  /* Text Colors - Target 7:1 contrast ratio (WCAG AAA) */
  --color-text-primary: #F5F5DC;    /* Beige Ivory - Primary text */
  --color-text-secondary: #E8E6D5;  /* Slightly darker for secondary text */
  --color-text-tertiary: #D4D2C1;   /* Even darker for tertiary text */

  /* ===== Category Colors (11 Categories - Constant Across Themes) ===== */
  /* AI Fundamentals: Toffee Brown */
  --color-cat-ai-fundamentals: #A67C52;

  /* Risks & Principles: Dark Walnut */
  --color-cat-risks-principles: #654321;

  /* Legal Frameworks: Saddle Brown */
  --color-cat-legal-frameworks: #8B4513;

  /* AI Laws: Camel */
  --color-cat-ai-laws: #C19A6B;

  /* Risk Frameworks: Dry Sage */
  --color-cat-risk-frameworks: #9FA99F;

  /* Development Lifecycle: Khaki Beige */
  --color-cat-development-lifecycle: #C3B091;

  /* Governance: Tan */
  --color-cat-governance: #D2B48C;

  /* Auditing & Assessment: Sage Green */
  --color-cat-auditing-assessment: #8A9A5B;

  /* Industry Perspectives: Moss Green (distinct from Auditing & Assessment) */
  --color-cat-industry-perspectives: #414833;

  /* Explainability: Forest Green */
  --color-cat-explainability: #6B8E23;

  /* Videos: Olive Green */
  --color-cat-videos: #6B7A3C;

  /* Badge Text Colors (Constant across themes for category badges/filters) */
  --color-badge-text-on-dark: #F5F5DC;  /* Light text for dark category colors */
  --color-badge-text-on-light: #333d29; /* Dark text for light category colors */

  /* ===== Whitespace Scale (8px base) ===== */
  --space-xs: 8px;
  --space-sm: 16px;
  --space-md: 32px;
  --space-lg: 64px;
  --space-xl: 96px;
  --space-2xl: 160px;

  /* ===== Typography Tokens ===== */
  /* Font Sizes - Unified Scale */
  --font-size-3xl: 72px;  /* Hero heading (H1 on homepage) */
  --font-size-2xl: 48px;  /* Section headings (H2) */
  --font-size-xl: 32px;   /* Subsection headings (H3) */
  --font-size-lg: 24px;   /* Large text */
  --font-size-base: 16px; /* Body text */
  --font-size-sm: 14px;   /* Small text */

  /* Legacy aliases for backward compatibility */
  --font-size-h1: 48px;
  --font-size-h2: 32px;
  --font-size-h3: 24px;
  --font-size-body: 16px;

  /* Line Heights */
  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.8;

  /* Font Weights */
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 700;

  /* Font Family - System Font Stack for Performance */
  --font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-family-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace;

  /* ===== Animation Timing Tokens ===== */
  --timing-fast: 150ms;
  --timing-base: 250ms;
  --easing-standard: cubic-bezier(0.4, 0.0, 0.2, 1);

  /* ===== Layout Tokens ===== */
  --content-max-width: 1200px;
  --article-max-width: 680px;
  --menu-button-size: 48px;
  --menu-bar-height: 72px;
}

/* ============================================
   Light Mode Theme Overrides
   Story: 2.2 - Implement Dual Theme System
   ============================================ */

[data-theme="light"] {
  /* ===== Light Mode Structural Colors ===== */
  /* Background: Beige Ivory - Light mode background */
  --color-background: #F5F5DC;

  /* Surface: Slightly darker than background for contrast */
  --color-surface: #EBE8D8;

  /* Surface Elevated: Even darker for floating elements */
  --color-surface-elevated: #E0DCC8;

  /* Text Colors - Inverted for light mode (Target 7:1 contrast ratio) */
  --color-text-primary: #333d29;    /* Charcoal Brown - Primary text */
  --color-text-secondary: #3d4831;  /* Slightly lighter for secondary text */
  --color-text-tertiary: #4a5339;   /* Even lighter for tertiary text */

  /* ===== Category Colors Remain Unchanged ===== */
  /* All 11 category colors stay constant across themes for brand identity */
}

@theme inline {
  /* Tailwind CSS v4 theme integration */

  /* Colors */
  --color-background: var(--color-background);
  --color-foreground: var(--color-text-primary);
  --color-surface: var(--color-surface);
  --color-surface-elevated: var(--color-surface-elevated);
  --color-text-secondary: var(--color-text-secondary);
  --color-text-tertiary: var(--color-text-tertiary);

  /* Category Colors */
  --color-cat-ai-fundamentals: var(--color-cat-ai-fundamentals);
  --color-cat-risks-principles: var(--color-cat-risks-principles);
  --color-cat-legal-frameworks: var(--color-cat-legal-frameworks);
  --color-cat-ai-laws: var(--color-cat-ai-laws);
  --color-cat-risk-frameworks: var(--color-cat-risk-frameworks);
  --color-cat-development-lifecycle: var(--color-cat-development-lifecycle);
  --color-cat-governance: var(--color-cat-governance);
  --color-cat-auditing-assessment: var(--color-cat-auditing-assessment);
  --color-cat-industry-perspectives: var(--color-cat-industry-perspectives);
  --color-cat-explainability: var(--color-cat-explainability);
  --color-cat-videos: var(--color-cat-videos);

  /* Spacing */
  --spacing-xs: var(--space-xs);
  --spacing-sm: var(--space-sm);
  --spacing-md: var(--space-md);
  --spacing-lg: var(--space-lg);
  --spacing-xl: var(--space-xl);
  --spacing-2xl: var(--space-2xl);

  /* Typography */
  --font-sans: var(--font-family-sans);
  --font-mono: var(--font-family-mono);
  --font-size-h1: var(--font-size-h1);
  --font-size-h2: var(--font-size-h2);
  --font-size-h3: var(--font-size-h3);
  --font-size-body: var(--font-size-body);
  --font-size-3xl: var(--font-size-3xl);
  --font-size-2xl: var(--font-size-2xl);
  --font-size-xl: var(--font-size-xl);
  --font-size-base: var(--font-size-base);
  --line-height-tight: var(--line-height-tight);
  --line-height-normal: var(--line-height-normal);
  --line-height-relaxed: var(--line-height-relaxed);
  --font-weight-regular: var(--font-weight-regular);
  --font-weight-medium: var(--font-weight-medium);
  --font-weight-bold: var(--font-weight-bold);

  /* Animation */
  --timing-fast: var(--timing-fast);
  --timing-base: var(--timing-base);
  --easing-standard: var(--easing-standard);

  /* Layout */
  --content-max-width: var(--content-max-width);
  --article-max-width: var(--article-max-width);
  --menu-button-size: var(--menu-button-size);
  --menu-bar-height: var(--menu-bar-height);
}

body {
  background: var(--color-background);
  color: var(--color-text-primary);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-body);
  line-height: var(--line-height-relaxed);
}

/* ============================================
   Homepage Styles
   Story: 4.1 - Create Homepage Layout with Hero Section
   ============================================ */

/* ========================================
   Skip to Main Content Link (Story 7.1)
   ======================================== */

/**
 * Skip to Main Content Link
 *
 * Visual hidden-until-focus pattern per WCAG best practices (2025).
 * Uses transform instead of left: -9999px for GPU acceleration.
 *
 * Requirements:
 * - First focusable element (z-index: 9999)
 * - Hidden off-screen until focused (translateY(-100%))
 * - Slides on-screen when focused (translateY(0))
 * - 2px focus outline per UX-16
 * - 3:1 contrast ratio per WCAG Level AA
 * - Smooth transition (200ms)
 */
.skip-to-main {
  position: absolute;
  top: 0;
  left: var(--space-md, 1rem);
  z-index: 9999; /* Highest layer, above all content */

  /* Visual styling */
  padding: var(--space-sm, 0.5rem) var(--space-md, 1rem);
  background-color: var(--color-background);
  color: var(--color-text-primary);
  border: 2px solid var(--color-text-primary);
  border-radius: var(--radius-sm, 4px);
  font-size: 1rem;
  font-weight: 600;
  text-decoration: none;
  white-space: nowrap;

  /* Hidden off-screen by default */
  transform: translateY(-100%);

  /* Smooth transition when focused */
  transition: transform 200ms ease-out;
}

/**
 * Skip link visible state when focused
 *
 * Slides on-screen with transform: translateY(0)
 * Focus indicator: 2px outline per UX-16
 */
.skip-to-main:focus,
.skip-to-main:focus-visible {
  /* Slide on-screen */
  transform: translateY(0);

  /* Focus indicator (2px outline with 2px offset) */
  outline: 2px solid var(--color-text-primary);
  outline-offset: 2px;
}

/**
 * Prefers Reduced Motion - Accessibility
 *
 * Disable animation for users with motion sensitivity per WCAG guidelines
 */
@media (prefers-reduced-motion: reduce) {
  .skip-to-main {
    transition: none;
  }
}

/* CTA Button */
.cta-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-sm) var(--space-lg);
  background: var(--color-surface-elevated);
  color: var(--color-text-primary);
  text-decoration: none;
  border-radius: 8px;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  transition: all var(--timing-fast) var(--easing-standard);
  border: 2px solid var(--color-cat-governance);
  min-width: 44px;
  min-height: 44px;
  text-align: center;
}

.cta-button:hover {
  background: var(--color-cat-governance);
  box-shadow: 0 0 20px var(--color-cat-governance);
  transform: translateY(-2px);
}

.cta-button:focus {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 4px;
}

/* Homepage Layout Classes */
.homepage-main {
  max-width: var(--content-max-width);
  margin: 0 auto;
  padding: 0 var(--space-md);
}

@media (max-width: 768px) {
  .homepage-main {
    padding: 0 var(--space-sm);  /* 16px on mobile */
  }
}

.hero-section {
  padding-top: var(--space-2xl);
  padding-bottom: var(--space-2xl);
  text-align: center;
}

@media (max-width: 768px) {
  .hero-section {
    padding-top: var(--space-xl);  /* 96px on mobile */
    padding-bottom: var(--space-xl);
  }
}

.hero-title {
  font-size: var(--font-size-3xl);
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-tight);
  margin-bottom: var(--space-md);
  color: var(--color-text-primary);
}

.hero-subtitle {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-md);
}

.hero-description {
  font-size: var(--font-size-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-text-secondary);
  max-width: 680px;
  margin: 0 auto var(--space-lg);
}

.content-section {
  padding-top: var(--space-2xl);
  padding-bottom: var(--space-2xl);
}

@media (max-width: 768px) {
  .content-section {
    padding-top: var(--space-lg);  /* 64px on mobile */
    padding-bottom: var(--space-lg);
  }
}

.section-heading {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-bold);
  margin-bottom: var(--space-lg);
  color: var(--color-text-primary);
}

/* Hide empty placeholder sections */
.content-section:empty,
.content-section:not(:has(*:not(h2))) {
  display: none;
}

/* Responsive Typography - Fluid Scaling */
@media (max-width: 768px) {
  :root {
    --font-size-3xl: clamp(48px, 12vw, 72px);  /* Scale down hero on mobile */
    --font-size-2xl: clamp(32px, 8vw, 48px);
    --font-size-xl: clamp(24px, 6vw, 32px);
  }
}

/* Prefers Reduced Motion - Accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ============================================
   Portfolio & Featured Article Components
   Story: 4.2 - Add Portfolio and Featured Articles Sections
   ============================================ */

/* Portfolio Card */
.portfolio-card {
  background: var(--color-surface);
  border-radius: 8px;
  overflow: hidden;
  transition: all var(--timing-fast) var(--easing-standard);
}

.portfolio-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 20px var(--color-cat-governance);
}

.portfolio-card-thumbnail {
  width: 100%;
  height: 200px;
  overflow: hidden;
  background: var(--color-surface-elevated);
}

.portfolio-card-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.portfolio-card-placeholder {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, var(--color-cat-governance) 0%, var(--color-cat-ai-fundamentals) 100%);
}

.portfolio-card-content {
  padding: var(--space-md);
}

.portfolio-card-title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-sm);
  line-height: var(--line-height-tight);
}

.portfolio-card-description {
  font-size: var(--font-size-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-md);
}

.portfolio-card-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-sm) var(--space-md);
  background: var(--color-surface-elevated);
  color: var(--color-text-primary);
  text-decoration: none;
  border-radius: 4px;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  transition: all var(--timing-fast) var(--easing-standard);
  border: 1px solid var(--color-cat-governance);
  min-width: 44px;
  min-height: 44px;
}

.portfolio-card-link:hover {
  background: var(--color-cat-governance);
  transform: translateX(4px);
}

.portfolio-card-link:focus {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

/* Featured Article Card */
.featured-article {
  background: var(--color-surface);
  border-radius: 8px;
  overflow: hidden;
  transition: all var(--timing-fast) var(--easing-standard);
  text-decoration: none;
  color: inherit;
  display: block;
}

.featured-article:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 20px var(--color-cat-governance);
}

.featured-article-thumbnail {
  width: 100%;
  height: 200px;
  overflow: hidden;
  position: relative;
}

.featured-article-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.featured-article-placeholder {
  width: 100%;
  height: 100%;
}

.featured-article-content {
  padding: var(--space-md);
}

.featured-article-title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-top: var(--space-sm);
  margin-bottom: var(--space-sm);
  line-height: var(--line-height-tight);
}

.featured-article-meta {
  font-size: var(--font-size-sm);
  color: var(--color-text-tertiary);
  margin-bottom: var(--space-sm);
}

.featured-article-excerpt {
  font-size: var(--font-size-base);
  line-height: var(--line-height-relaxed);
  color: var(--color-text-secondary);
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Responsive Grid for Portfolio and Featured Articles */
.portfolio-grid {
  display: grid;
  gap: var(--space-md);
  grid-template-columns: 1fr;
  max-width: var(--content-max-width);
  margin: 0 auto;
}

@media (min-width: 768px) {
  .portfolio-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .portfolio-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* ============================================
   Prism.js Syntax Highlighting Theme
   Story: 3.3 - Implement MDX Compilation with Syntax Highlighting
   Earth-Tone Color Palette using Category Colors
   ============================================ */

/* Code Block Container */
pre[class*="language-"] {
  background: var(--color-cat-auditing-assessment); /* Sage Green #8A9A5B */
  color: var(--color-text-primary); /* Beige Ivory in dark mode, Charcoal in light */
  padding: var(--space-md);
  border-radius: 4px;
  overflow-x: auto;
  margin: var(--space-sm) 0;
  font-family: var(--font-family-mono);
  font-size: 14px;
  line-height: var(--line-height-normal);
}

/* Inline Code */
code[class*="language-"] {
  background: var(--color-cat-auditing-assessment);
  color: var(--color-text-primary);
  font-family: var(--font-family-mono);
}

/* Inline code without language class (plain markdown backticks) */
:not(pre) > code {
  background: var(--color-surface-elevated);
  color: var(--color-text-primary);
  padding: 2px 6px;
  border-radius: 3px;
  font-family: var(--font-family-mono);
  font-size: 0.9em;
}

/* Syntax Highlighting Tokens */

/* Comments - Muted tertiary text */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: var(--color-text-tertiary);
  font-style: italic;
}

/* Punctuation - Primary text */
.token.punctuation {
  color: var(--color-text-primary);
}

/* Keywords - Dry Sage */
.token.keyword,
.token.tag,
.token.boolean,
.token.constant,
.token.deleted {
  color: var(--color-cat-risk-frameworks); /* Dry Sage #9FA99F */
  font-weight: var(--font-weight-medium);
}

/* Strings - Camel */
.token.string,
.token.attr-value,
.token.char,
.token.inserted {
  color: var(--color-cat-ai-laws); /* Camel #C19A6B */
}

/* Functions - Khaki Beige */
.token.function,
.token.class-name {
  color: var(--color-cat-development-lifecycle); /* Khaki Beige #C3B091 */
}

/* Numbers - Tan */
.token.number,
.token.hexcode {
  color: var(--color-cat-governance); /* Tan #D2B48C */
}

/* Operators - Beige Ivory */
.token.operator,
.token.entity,
.token.url {
  color: var(--color-text-primary);
}

/* Property/Attribute names - Toffee Brown */
.token.property,
.token.attr-name,
.token.selector {
  color: var(--color-cat-ai-fundamentals); /* Toffee Brown #A67C52 */
}

/* Variables - Forest Green */
.token.variable,
.token.parameter {
  color: var(--color-cat-explainability); /* Forest Green #6B8E23 */
}

/* Important/Bold */
.token.important,
.token.bold {
  font-weight: var(--font-weight-bold);
}

/* Italic */
.token.italic {
  font-style: italic;
}

/* Namespace opacity */
.token.namespace {
  opacity: 0.7;
}

/* Light Mode Adjustments */
[data-theme="light"] pre[class*="language-"],
[data-theme="light"] code[class*="language-"] {
  /* Keep same Sage Green background in light mode */
  background: var(--color-cat-auditing-assessment);
  /* Text becomes Charcoal Brown in light mode (handled by --color-text-primary) */
}

/* Ensure good contrast in light mode */
[data-theme="light"] .token.comment,
[data-theme="light"] .token.prolog,
[data-theme="light"] .token.doctype,
[data-theme="light"] .token.cdata {
  color: var(--color-text-tertiary); /* Charcoal variations in light mode */
}

/* ============================================
   Floating Menu Component
   Story: 4.3 - Implement Floating Menu Component
   ============================================ */

/* Floating Menu Container */
.floating-menu {
  position: fixed;
  top: 32px;
  right: 32px;
  z-index: 1000;
}

/* Hamburger Menu Button (Collapsed State) */
.menu-button {
  width: var(--menu-button-size);  /* 48px */
  height: var(--menu-button-size); /* 48px */
  background: var(--color-surface-elevated);
  border: 2px solid var(--color-cat-governance);
  border-radius: 24px; /* Circular button */
  color: var(--color-text-primary);
  font-size: 24px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 200ms var(--easing-standard);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.menu-button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(210, 180, 140, 0.4); /* Tan glow */
}

.menu-button:focus {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 4px;
}

/* Expanded Menu Bar */
.menu-bar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--menu-bar-height); /* 72px */
  background: rgba(var(--color-surface-rgb, 61, 72, 49), 0.9);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--space-md);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  animation: slideDown 250ms cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Light mode menu bar background */
[data-theme="light"] .menu-bar {
  background: rgba(235, 232, 216, 0.9);
}

/* Slide Down Animation for Menu Expansion */
@keyframes slideDown {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Close Button */
.close-button {
  width: 44px;
  height: 44px;
  background: var(--color-surface-elevated);
  border: 2px solid var(--color-cat-governance);
  border-radius: 4px;
  color: var(--color-text-primary);
  font-size: 32px;
  line-height: 1;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--timing-fast) var(--easing-standard);
}

.close-button:hover {
  background: var(--color-cat-governance);
  transform: rotate(90deg);
}

.close-button:focus {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

/* Navigation Items Placeholder */
.nav-items {
  flex: 1;
  display: flex;
  align-items: center;
  gap: var(--space-md);
  padding: 0 var(--space-md);
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .floating-menu {
    top: var(--space-sm); /* 16px on mobile */
    right: var(--space-sm);
  }

  .menu-bar {
    padding: 0 var(--space-sm);
  }

  .nav-items {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-sm);
  }
}

/* Navigation Items - Story 4.4 */
.nav-item {
  position: relative;
  display: inline-block;
  padding: var(--space-xs) var(--space-sm);
  color: var(--color-text-primary);
  text-decoration: none;
  background: none;
  border: none;
  font-size: var(--font-size-base);
  font-family: var(--font-family-sans);
  font-weight: var(--font-weight-regular);
  cursor: pointer;
  transition: transform var(--timing-fast) var(--easing-standard);
  white-space: nowrap;
}

/* Underline grow from center animation */
.nav-item::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 2px;
  background-color: var(--color-cat-governance);
  transition: width var(--timing-fast) var(--easing-standard), left var(--timing-fast) var(--easing-standard);
}

.nav-item:hover::after {
  width: 100%;
  left: 0;
}

.nav-item:hover {
  transform: scale(1.02);
}

.nav-item:focus {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 4px;
}

/* Current page indicator */
.nav-item.current {
  font-weight: var(--font-weight-bold);
  color: var(--color-cat-governance);
  cursor: default;
  pointer-events: none;
}

.nav-item.current::after {
  width: 100%;
  left: 0;
}

/* Responsive adjustments for navigation items */
@media (max-width: 768px) {
  .nav-items {
    flex-direction: column;
    align-items: flex-start;
  }

  .nav-item {
    padding: var(--space-sm);
    width: 100%;
    text-align: left;
  }
}

/* Accessibility - Prefers Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .menu-bar {
    animation-duration: 0.01ms;
  }

  .menu-button,
  .close-button {
    transition-duration: 0.01ms;
  }

  .nav-item,
  .nav-item::after {
    transition-duration: 0.01ms;
  }
}

/* ============================================
   Articles Page Layout
   Story: 5.1 - Create Articles Page with Grid Layout
   ============================================ */

/* Articles Page Layout */
.articles-page {
  padding: var(--space-2xl) var(--space-md);
  background: var(--color-background);
  min-height: 100vh;
}

.articles-container {
  max-width: var(--content-max-width); /* 1200px */
  margin: 0 auto;
}

.page-heading {
  font-size: var(--font-size-2xl); /* 48px */
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-md);
  text-align: center;
}

.page-description {
  font-size: var(--font-size-base); /* 16px */
  line-height: var(--line-height-relaxed);
  color: var(--color-text-secondary);
  max-width: 680px;
  margin: 0 auto var(--space-lg);
  text-align: center;
}

/* Responsive Grid */
.articles-grid {
  display: grid;
  gap: var(--space-md); /* 32px */
  grid-template-columns: 1fr; /* Mobile: 1 column */
}

/* Tablet: 2 columns */
@media (min-width: 768px) {
  .articles-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Desktop: 3 columns */
@media (min-width: 1024px) {
  .articles-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Empty State */
.empty-state {
  grid-column: 1 / -1; /* Span all columns */
  text-align: center;
  font-size: var(--font-size-lg);
  color: var(--color-text-secondary);
  padding: var(--space-2xl) 0;
}

/* Article Placeholder (will be replaced with ArticleCard in Story 5.2) */
.article-placeholder {
  background: var(--color-surface);
  border-radius: 8px;
  padding: var(--space-md);
  min-height: 200px;
}

.article-placeholder h2 {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-sm);
}

.article-placeholder p {
  font-size: var(--font-size-base);
  color: var(--color-text-secondary);
}

/* Responsive Padding */
@media (max-width: 768px) {
  .articles-page {
    padding: var(--space-xl) var(--space-sm);
  }
}

/* ============================================
   Article Card Component
   Story: 5.2 - Create Article Card Component
   Story 7.6 - Progressive Enhancement: Added Link wrapper
   ============================================ */

/* Article Card Link Wrapper - Progressive Enhancement (Story 7.6) */
.article-card-link {
  display: block;
  text-decoration: none;
  color: inherit;
}

.article-card-link:focus {
  outline: none; /* Focus handled by .article-card */
}

.article-card-link:focus .article-card {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

/* Article Card Base Styles */
.article-card {
  background: var(--color-surface);
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  transition: all var(--timing-fast) var(--easing-standard);
  position: relative;
  min-height: 44px; /* Touch target minimum */
  display: flex;
  flex-direction: column;
}

.article-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 20px rgba(210, 180, 140, 0.4); /* Default Tan glow */
}

.article-card:focus {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

/* Thumbnail with gradient placeholder */
.article-thumbnail {
  width: 100%;
  height: 200px;
  position: relative;
  background: linear-gradient(135deg, var(--color-cat-governance) 0%, #AB916C 100%);
}

/* Category-specific gradients */
.article-thumbnail[data-category="ai-fundamentals"] {
  background: linear-gradient(135deg, var(--color-cat-ai-fundamentals) 0%, #8A633E 100%);
}

.article-thumbnail[data-category="risks-principles"] {
  background: linear-gradient(135deg, var(--color-cat-risks-principles) 0%, #412F1F 100%);
}

.article-thumbnail[data-category="legal-frameworks"] {
  background: linear-gradient(135deg, var(--color-cat-legal-frameworks) 0%, #6E4A2F 100%);
}

.article-thumbnail[data-category="ai-laws"] {
  background: linear-gradient(135deg, var(--color-cat-ai-laws) 0%, #9A7B52 100%);
}

.article-thumbnail[data-category="risk-frameworks"] {
  background: linear-gradient(135deg, var(--color-cat-risk-frameworks) 0%, #7F857F 100%);
}

.article-thumbnail[data-category="development-lifecycle"] {
  background: linear-gradient(135deg, var(--color-cat-development-lifecycle) 0%, #9C8D72 100%);
}

.article-thumbnail[data-category="governance"] {
  background: linear-gradient(135deg, var(--color-cat-governance) 0%, #AB916C 100%);
}

.article-thumbnail[data-category="auditing-assessment"] {
  background: linear-gradient(135deg, var(--color-cat-auditing-assessment) 0%, #6B7A48 100%);
}

.article-thumbnail[data-category="industry-perspectives"] {
  background: linear-gradient(135deg, var(--color-cat-industry-perspectives) 0%, #527A52 100%);
}

.article-thumbnail[data-category="explainability"] {
  background: linear-gradient(135deg, var(--color-cat-explainability) 0%, #557219 100%);
}

.article-thumbnail[data-category="videos"] {
  background: linear-gradient(135deg, var(--color-cat-videos) 0%, #545F2D 100%);
}

/* Card content area */
.article-content {
  padding: var(--space-lg); /* 64px */
  flex: 1;
  display: flex;
  flex-direction: column;
}

.article-title {
  font-size: var(--font-size-xl); /* 32px */
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  margin-bottom: var(--space-sm);
  line-height: var(--line-height-tight);
}

.article-meta {
  display: flex;
  align-items: center;
  gap: var(--space-xs); /* 8px */
  font-size: var(--font-size-sm); /* 14px */
  color: var(--color-text-tertiary);
  margin-top: auto;
}

.separator {
  color: var(--color-text-tertiary);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .article-content {
    padding: var(--space-md); /* Reduce padding on mobile: 32px */
  }

  .article-title {
    font-size: var(--font-size-lg); /* Smaller title on mobile: 24px */
  }
}

/* Hover effects only on desktop (not touch devices) */
@media (hover: hover) and (pointer: fine) {
  .article-card:hover {
    transform: translateY(-2px);
  }
}

/* Accessibility - Prefers Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .article-card {
    transition-duration: 0.01ms;
  }
}

/* ============================================
   Category Filter Component
   Story: 5.3 - Implement Category Filtering
   ============================================ */

/* Category Filter Bar */
.category-filter {
  margin-bottom: var(--space-lg); /* 64px spacing before grid */
  padding: var(--space-md) 0;
}

.filter-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm); /* 16px gap between buttons */
  justify-content: center;
  max-width: var(--content-max-width); /* 1200px */
  margin: 0 auto;
}

/* Filter Button Base Styles */
.filter-btn {
  padding: 12px 24px;
  background: var(--color-surface);
  color: var(--color-text-secondary);
  border: 2px solid transparent;
  border-radius: 8px;
  font-size: var(--font-size-base); /* 16px */
  font-weight: var(--font-weight-regular);
  cursor: pointer;
  transition: all var(--timing-fast) var(--easing-standard); /* 150ms */
  min-width: 44px; /* Minimum touch target */
  min-height: 44px; /* Minimum touch target */
  font-family: var(--font-family-sans);
}

/* Hover effect (desktop only) */
@media (hover: hover) and (pointer: fine) {
  .filter-btn:hover:not(.active) {
    background: var(--color-surface-elevated);
    box-shadow: 0 0 12px rgba(210, 180, 140, 0.3);
  }
}

/* Active filter button (generic) */
.filter-btn.active {
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  border-color: var(--color-text-primary);
  background: var(--color-surface-elevated);
}

/* Category-specific active button colors */
.filter-btn.active[data-category="ai-fundamentals"] {
  background: var(--color-cat-ai-fundamentals);
  border-color: var(--color-cat-ai-fundamentals);
  color: var(--color-badge-text-on-dark);
}

.filter-btn.active[data-category="risks-principles"] {
  background: var(--color-cat-risks-principles);
  border-color: var(--color-cat-risks-principles);
  color: var(--color-badge-text-on-dark);
}

.filter-btn.active[data-category="legal-frameworks"] {
  background: var(--color-cat-legal-frameworks);
  border-color: var(--color-cat-legal-frameworks);
  color: var(--color-badge-text-on-dark);
}

.filter-btn.active[data-category="ai-laws"] {
  background: var(--color-cat-ai-laws);
  border-color: var(--color-cat-ai-laws);
  color: var(--color-badge-text-on-light);
}

.filter-btn.active[data-category="risk-frameworks"] {
  background: var(--color-cat-risk-frameworks);
  border-color: var(--color-cat-risk-frameworks);
  color: var(--color-badge-text-on-light);
}

.filter-btn.active[data-category="development-lifecycle"] {
  background: var(--color-cat-development-lifecycle);
  border-color: var(--color-cat-development-lifecycle);
  color: var(--color-badge-text-on-light);
}

.filter-btn.active[data-category="governance"] {
  background: var(--color-cat-governance);
  border-color: var(--color-cat-governance);
  color: var(--color-badge-text-on-light);
}

.filter-btn.active[data-category="auditing-assessment"] {
  background: var(--color-cat-auditing-assessment);
  border-color: var(--color-cat-auditing-assessment);
  color: var(--color-badge-text-on-dark);
}

.filter-btn.active[data-category="industry-perspectives"] {
  background: var(--color-cat-industry-perspectives);
  border-color: var(--color-cat-industry-perspectives);
  color: var(--color-badge-text-on-dark);
}

.filter-btn.active[data-category="explainability"] {
  background: var(--color-cat-explainability);
  border-color: var(--color-cat-explainability);
  color: var(--color-badge-text-on-dark);
}

.filter-btn.active[data-category="videos"] {
  background: var(--color-cat-videos);
  border-color: var(--color-cat-videos);
  color: var(--color-badge-text-on-dark);
}

/* Keyboard focus indicator */
.filter-btn:focus-visible {
  outline: 2px solid var(--color-text-primary);
  outline-offset: 2px;
}

/* Mobile responsive */
@media (max-width: 768px) {
  .filter-buttons {
    justify-content: flex-start;
    overflow-x: auto;
    flex-wrap: nowrap;
    padding: 0 var(--space-sm);
    gap: var(--space-xs); /* 8px mobile gap, using design token */
  }

  .filter-btn {
    white-space: nowrap;
    flex-shrink: 0;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .filter-btn {
    transition: none;
  }
}

/* Filter animation for grid */
.articles-grid.filtering {
  opacity: 0.6;
  transition: opacity 200ms var(--easing-standard);
}

.articles-grid.filter-complete {
  opacity: 1;
  transition: opacity 200ms var(--easing-standard);
}

/* ============================================
   Expandable Article Component
   Story: 6.2 - Implement Expandable Article Component with Radix Dialog
   ============================================ */

/* Article Overlay - Blurred background (AC #4) */
.article-overlay {
  position: fixed;
  inset: 0;
  background-color: rgba(51, 61, 41, 0.8); /* Dark mode background with 80% opacity */
  backdrop-filter: blur(8px); /* 8px gaussian blur per AC #4 */
  -webkit-backdrop-filter: blur(8px); /* Safari support */
  animation: overlay-fade-in 200ms cubic-bezier(0.4, 0.0, 0.2, 1);
  animation-delay: 200ms; /* 200ms delay for smoother perceived performance per Dev Notes */
  animation-fill-mode: backwards;
  z-index: 100;
}

/* Light mode overlay */
[data-theme="light"] .article-overlay {
  background-color: rgba(245, 245, 220, 0.8); /* Light mode background with 80% opacity */
}

/* Overlay fade-in animation */
@keyframes overlay-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Fallback for browsers that don't support backdrop-filter */
@supports not (backdrop-filter: blur(8px)) {
  .article-overlay {
    background-color: rgba(51, 61, 41, 0.95); /* Higher opacity when no blur */
  }
  
  [data-theme="light"] .article-overlay {
    background-color: rgba(245, 245, 220, 0.95);
  }
}

/* Expanded Article Content (AC #3) */
.article-expanded {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  max-width: var(--article-max-width); /* 680px per UX-10 */
  width: 90vw;
  max-height: 90vh;
  overflow-y: auto;
  background-color: var(--color-surface);
  border-radius: 8px;
  padding: var(--space-lg); /* 64px vertical padding per AC #3 */
  z-index: 101;
  box-shadow: 0 24px 64px rgba(0, 0, 0, 0.3);
  /* FLIP animation will be applied via JavaScript */
}

/* Mobile full-screen overlay (AC #9) */
@media (max-width: 767px) {
  .article-expanded {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    transform: none;
    max-width: 100%;
    width: 100%;
    max-height: 100%;
    border-radius: 0;
    padding: var(--space-md) var(--space-sm); /* 32px top/bottom, 16px left/right */
    animation: slide-up-mobile 250ms cubic-bezier(0.4, 0.0, 0.2, 1);
  }
}

/* Slide-up animation for mobile (AC #9) */
@keyframes slide-up-mobile {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

/* Article Header with Blurred Category Gradient (AC #5) */
.article-header {
  position: relative;
  margin: calc(var(--space-lg) * -1) calc(var(--space-lg) * -1) var(--space-lg) calc(var(--space-lg) * -1); /* -64px margins to extend to edges */
  padding: var(--space-lg) var(--space-lg) var(--space-md) var(--space-lg); /* 64px top/side, 32px bottom */
  background: linear-gradient(135deg, var(--category-color) 0%, transparent 100%);
  backdrop-filter: blur(24px); /* Frosted glass effect per AC #5 */
  -webkit-backdrop-filter: blur(24px);
  border-radius: 8px 8px 0 0;
}

@media (max-width: 767px) {
  .article-header {
    margin: calc(var(--space-md) * -1) calc(var(--space-sm) * -1) var(--space-md) calc(var(--space-sm) * -1); /* -32px/-16px margins */
    padding: var(--space-md) var(--space-sm) var(--space-sm) var(--space-sm); /* 32px top, 16px sides, 16px bottom */
  }
}

/* Article header title */
.article-header .article-title {
  font-size: var(--font-size-2xl); /* 48px */
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-tight);
  margin: var(--space-sm) 0 var(--space-xs) 0;
  color: var(--color-text-primary);
}

/* Article header metadata */
.article-header .article-meta {
  display: flex;
  gap: var(--space-xs);
  align-items: center;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

/* Article Body (AC #3) */
.article-body {
  color: var(--color-text-primary);
  font-size: var(--font-size-base);
  line-height: var(--line-height-relaxed);
  padding: var(--space-md) 0;
}

/* Close Button (AC #8) */
.article-close {
  position: fixed;
  top: 32px;
  left: 32px;
  width: 44px; /* WCAG touch target minimum per AC #9 */
  height: 44px; /* WCAG touch target minimum per AC #9 */
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-surface-elevated);
  border: 2px solid var(--category-color);
  border-radius: 50%;
  font-size: 24px;
  cursor: pointer;
  transition: all var(--timing-fast) var(--easing-standard);
  z-index: 102;
  color: var(--color-text-primary);
}

.article-close:hover {
  transform: scale(1.1);
  box-shadow: 0 0 16px var(--category-color);
}

.article-close:focus {
  outline: 2px solid var(--category-color);
  outline-offset: 2px;
}

/* Floating menu reduced opacity when article expanded (AC #6) */
.floating-menu[data-article-expanded="true"] {
  opacity: 0.6; /* 60% opacity per AC #6 */
  transition: opacity var(--timing-fast) var(--easing-standard); /* 150ms timing */
}

.floating-menu[data-article-expanded="true"]:hover {
  opacity: 1; /* Return to 100% on hover */
}

/* Category color CSS variable mappings (AC #5) */
.article-header[data-category="ai-fundamentals"] {
  --category-color: var(--color-cat-ai-fundamentals);
}
.article-header[data-category="risks-principles"] {
  --category-color: var(--color-cat-risks-principles);
}
.article-header[data-category="legal-frameworks"] {
  --category-color: var(--color-cat-legal-frameworks);
}
.article-header[data-category="ai-laws"] {
  --category-color: var(--color-cat-ai-laws);
}
.article-header[data-category="risk-frameworks"] {
  --category-color: var(--color-cat-risk-frameworks);
}
.article-header[data-category="development-lifecycle"] {
  --category-color: var(--color-cat-development-lifecycle);
}
.article-header[data-category="governance"] {
  --category-color: var(--color-cat-governance);
}
.article-header[data-category="auditing-assessment"] {
  --category-color: var(--color-cat-auditing-assessment);
}
.article-header[data-category="industry-perspectives"] {
  --category-color: var(--color-cat-industry-perspectives);
}
.article-header[data-category="explainability"] {
  --category-color: var(--color-cat-explainability);
}
.article-header[data-category="videos"] {
  --category-color: var(--color-cat-videos);
}

/* Close button category colors */
.article-close[data-category="ai-fundamentals"] {
  border-color: var(--color-cat-ai-fundamentals);
}
.article-close[data-category="risks-principles"] {
  border-color: var(--color-cat-risks-principles);
}
.article-close[data-category="legal-frameworks"] {
  border-color: var(--color-cat-legal-frameworks);
}
.article-close[data-category="ai-laws"] {
  border-color: var(--color-cat-ai-laws);
}
.article-close[data-category="risk-frameworks"] {
  border-color: var(--color-cat-risk-frameworks);
}
.article-close[data-category="development-lifecycle"] {
  border-color: var(--color-cat-development-lifecycle);
}
.article-close[data-category="governance"] {
  border-color: var(--color-cat-governance);
}
.article-close[data-category="auditing-assessment"] {
  border-color: var(--color-cat-auditing-assessment);
}
.article-close[data-category="industry-perspectives"] {
  border-color: var(--color-cat-industry-perspectives);
}
.article-close[data-category="explainability"] {
  border-color: var(--color-cat-explainability);
}
.article-close[data-category="videos"] {
  border-color: var(--color-cat-videos);
}

/* Arrow Navigation Buttons (Story 6.6) */
.article-nav-buttons {
  position: fixed;
  bottom: 24px;
  right: 24px;
  display: flex;
  gap: 16px;
  z-index: 101; /* Below close button (z-index: 102) to avoid overlap conflicts */
}

.article-nav-button {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--color-surface-elevated);
  border: 2px solid var(--color-text-primary);
  border-radius: 50%;
  font-size: 20px;
  cursor: pointer;
  transition: all var(--timing-fast) var(--easing-standard);
  color: var(--color-text-primary);
}

.article-nav-button:hover:not(:disabled) {
  transform: scale(1.1);
  box-shadow: 0 0 16px rgba(210, 180, 140, 0.6);
}

.article-nav-button:active:not(:disabled) {
  transform: scale(0.95);
}

.article-nav-button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  border-color: var(--color-text-tertiary);
}

.article-nav-button:focus-visible {
  outline: 2px solid var(--color-text-primary);
  outline-offset: 2px;
}

/* Category-specific navigation button border colors */
.article-nav-buttons[data-category="ai-fundamentals"] .article-nav-button {
  border-color: var(--color-cat-ai-fundamentals);
}
.article-nav-buttons[data-category="ai-fundamentals"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-ai-fundamentals);
}

.article-nav-buttons[data-category="risks-principles"] .article-nav-button {
  border-color: var(--color-cat-risks-principles);
}
.article-nav-buttons[data-category="risks-principles"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-risks-principles);
}

.article-nav-buttons[data-category="legal-frameworks"] .article-nav-button {
  border-color: var(--color-cat-legal-frameworks);
}
.article-nav-buttons[data-category="legal-frameworks"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-legal-frameworks);
}

.article-nav-buttons[data-category="ai-laws"] .article-nav-button {
  border-color: var(--color-cat-ai-laws);
}
.article-nav-buttons[data-category="ai-laws"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-ai-laws);
}

.article-nav-buttons[data-category="risk-frameworks"] .article-nav-button {
  border-color: var(--color-cat-risk-frameworks);
}
.article-nav-buttons[data-category="risk-frameworks"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-risk-frameworks);
}

.article-nav-buttons[data-category="development-lifecycle"] .article-nav-button {
  border-color: var(--color-cat-development-lifecycle);
}
.article-nav-buttons[data-category="development-lifecycle"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-development-lifecycle);
}

.article-nav-buttons[data-category="governance"] .article-nav-button {
  border-color: var(--color-cat-governance);
}
.article-nav-buttons[data-category="governance"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-governance);
}

.article-nav-buttons[data-category="auditing-assessment"] .article-nav-button {
  border-color: var(--color-cat-auditing-assessment);
}
.article-nav-buttons[data-category="auditing-assessment"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-auditing-assessment);
}

.article-nav-buttons[data-category="industry-perspectives"] .article-nav-button {
  border-color: var(--color-cat-industry-perspectives);
}
.article-nav-buttons[data-category="industry-perspectives"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-industry-perspectives);
}

.article-nav-buttons[data-category="explainability"] .article-nav-button {
  border-color: var(--color-cat-explainability);
}
.article-nav-buttons[data-category="explainability"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-explainability);
}

.article-nav-buttons[data-category="videos"] .article-nav-button {
  border-color: var(--color-cat-videos);
}
.article-nav-buttons[data-category="videos"] .article-nav-button:hover:not(:disabled) {
  box-shadow: 0 0 16px var(--color-cat-videos);
}

/* Mobile responsive */
@media (max-width: 767px) {
  .article-nav-buttons {
    bottom: 16px;
    right: 16px;
    gap: 12px;
  }

  .article-nav-button {
    width: 44px;
    height: 44px;
    font-size: 18px;
  }

  .article-close {
    top: 16px;
    left: 16px;
  }
}

/* Prefers reduced motion */
@media (prefers-reduced-motion: reduce) {
  .article-nav-button {
    transition: none;
  }

  .article-nav-button:hover,
  .article-nav-button:active {
    transform: none;
  }
}

/* Article body category colors (for MDX content styling) */
.article-body[data-category="ai-fundamentals"] {
  --category-color: var(--color-cat-ai-fundamentals);
}
.article-body[data-category="risks-principles"] {
  --category-color: var(--color-cat-risks-principles);
}
.article-body[data-category="legal-frameworks"] {
  --category-color: var(--color-cat-legal-frameworks);
}
.article-body[data-category="ai-laws"] {
  --category-color: var(--color-cat-ai-laws);
}
.article-body[data-category="risk-frameworks"] {
  --category-color: var(--color-cat-risk-frameworks);
}
.article-body[data-category="development-lifecycle"] {
  --category-color: var(--color-cat-development-lifecycle);
}
.article-body[data-category="governance"] {
  --category-color: var(--color-cat-governance);
}
.article-body[data-category="auditing-assessment"] {
  --category-color: var(--color-cat-auditing-assessment);
}
.article-body[data-category="industry-perspectives"] {
  --category-color: var(--color-cat-industry-perspectives);
}
.article-body[data-category="explainability"] {
  --category-color: var(--color-cat-explainability);
}
.article-body[data-category="videos"] {
  --category-color: var(--color-cat-videos);
}

/* Accessibility - Prefers Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .article-overlay,
  .article-expanded {
    animation-duration: 0.01ms;
  }

  .article-close,
  .floating-menu[data-article-expanded="true"] {
    transition-duration: 0.01ms;
  }
}

/* ============================================
   MDX Article Content Styling
   Story: 6.3 - Render Article Content with MDX
   ============================================ */

/* Article Body Container - 680px max width for optimal readability (AC #8, UX-10) */
.article-body {
  max-width: var(--article-max-width); /* 680px - optimal 65-75 characters per line */
  margin: 0 auto;
  color: var(--color-text-primary);
  font-size: var(--font-size-base); /* 16px */
  line-height: var(--line-height-relaxed); /* 1.8 for comfortable reading */
}

/* Article Summary - Summary-First Structure (AC #1) */
.article-summary {
  font-size: 18px; /* Slightly larger than body text (16px) */
  font-weight: var(--font-weight-medium); /* 500 - semi-bold */
  line-height: 1.6;
  color: var(--color-text-primary);
  margin-bottom: var(--space-lg); /* 64px - major section break */
  padding-bottom: var(--space-lg); /* 64px padding */
  border-bottom: 1px solid var(--color-surface-elevated);
}

.article-summary p {
  margin: 0;
}

/* ===== Heading Hierarchy (AC #3) ===== */

/* H1: 48px - Reserved for article title (rarely in content) */
.mdx-h1 {
  font-size: var(--font-size-2xl); /* 48px */
  font-weight: var(--font-weight-bold); /* 700 */
  line-height: var(--line-height-tight); /* 1.2 */
  margin-top: 0;
  margin-bottom: var(--space-md); /* 32px */
  color: var(--color-text-primary);
  font-family: var(--font-family-sans);
}

/* H2: 32px - Major sections (48px top margin for section breaks) */
.mdx-h2 {
  font-size: var(--font-size-xl); /* 32px */
  font-weight: var(--font-weight-bold); /* 700 */
  line-height: 1.3;
  margin-top: var(--space-lg); /* 64px - major section break */
  margin-bottom: var(--space-md); /* 32px */
  color: var(--color-text-primary);
  font-family: var(--font-family-sans);
}

/* H3: 24px - Subsections (32px top margin) */
.mdx-h3 {
  font-size: var(--font-size-lg); /* 24px */
  font-weight: var(--font-weight-bold); /* 700 */
  line-height: 1.4;
  margin-top: var(--space-md); /* 32px - subsection break */
  margin-bottom: var(--space-sm); /* 16px */
  color: var(--color-text-primary);
  font-family: var(--font-family-sans);
}

/* ===== Paragraphs (AC #7) ===== */

.mdx-p {
  margin-bottom: var(--space-md); /* 32px vertical rhythm */
  color: var(--color-text-primary);
  line-height: var(--line-height-relaxed); /* 1.8 */
}

.mdx-p:last-child {
  margin-bottom: 0;
}

/* ===== Links (AC #2) ===== */

.mdx-link {
  color: var(--category-color, var(--color-cat-governance)); /* Article category color */
  text-decoration: none;
  transition: all var(--timing-fast) var(--easing-standard); /* 150ms */
  border-bottom: 1px solid transparent;
}

.mdx-link:hover {
  border-bottom-color: var(--category-color, var(--color-cat-governance));
}

.mdx-link:focus {
  outline: 2px solid var(--category-color, var(--color-cat-governance));
  outline-offset: 2px;
}

/* ===== Inline Code (AC #4) ===== */

.mdx-code-inline {
  background-color: var(--color-surface-elevated);
  color: var(--category-color, var(--color-cat-governance)); /* Article category color */
  padding: 2px 6px;
  border-radius: 4px;
  font-family: var(--font-family-mono);
  font-size: 14px;
}

/* ===== Code Blocks with Prism Theme (AC #4) ===== */

.mdx-pre {
  background-color: #6B7F5C; /* Moss Green - earth tone */
  color: #F5F5DC; /* Beige Ivory */
  padding: var(--space-md); /* 32px */
  border-radius: 8px;
  overflow-x: auto;
  margin: var(--space-md) 0; /* 32px top/bottom */
  font-family: var(--font-family-mono);
  font-size: 14px;
  line-height: 1.6;
}

.mdx-pre code {
  background: none;
  padding: 0;
  border-radius: 0;
  color: inherit;
  font-size: inherit;
}

/* Prism Syntax Highlighting Colors (Earth Tones) */
.mdx-pre .token.comment,
.mdx-pre .token.prolog,
.mdx-pre .token.doctype,
.mdx-pre .token.cdata {
  color: #A8B89E; /* Muted sage */
}

.mdx-pre .token.punctuation {
  color: #D4C5A0; /* Camel */
}

.mdx-pre .token.property,
.mdx-pre .token.tag,
.mdx-pre .token.boolean,
.mdx-pre .token.number,
.mdx-pre .token.constant,
.mdx-pre .token.symbol,
.mdx-pre .token.deleted {
  color: #D2B48C; /* Tan */
}

.mdx-pre .token.selector,
.mdx-pre .token.attr-name,
.mdx-pre .token.string,
.mdx-pre .token.char,
.mdx-pre .token.builtin,
.mdx-pre .token.inserted {
  color: #C4D4A0; /* Dry Sage */
}

.mdx-pre .token.operator,
.mdx-pre .token.entity,
.mdx-pre .token.url,
.mdx-pre .token.variable {
  color: #E3C9A0; /* Khaki Beige */
}

.mdx-pre .token.atrule,
.mdx-pre .token.attr-value,
.mdx-pre .token.keyword,
.mdx-pre .token.function,
.mdx-pre .token.class-name {
  color: #CCA366; /* Camel darker */
}

/* ===== Blockquotes (AC #6) ===== */

.mdx-blockquote {
  border-left: 4px solid var(--category-color, var(--color-cat-governance)); /* Article category color */
  padding-left: var(--space-md); /* 32px */
  margin: var(--space-md) 0; /* 32px top/bottom */
  font-style: italic;
  color: var(--color-text-secondary);
}

.mdx-blockquote p {
  margin-bottom: var(--space-xs); /* 8px between paragraphs in blockquote */
}

.mdx-blockquote p:last-child {
  margin-bottom: 0;
}

/* ===== Lists (AC #2, #7) ===== */

.mdx-ul,
.mdx-ol {
  padding-left: var(--space-md); /* 32px */
  margin-bottom: var(--space-md); /* 32px */
}

.mdx-ul {
  list-style-type: disc;
}

.mdx-ol {
  list-style-type: decimal;
}

.mdx-li {
  margin-bottom: var(--space-xs); /* 8px spacing between items */
  line-height: var(--line-height-relaxed); /* 1.8 */
}

.mdx-li:last-child {
  margin-bottom: 0;
}

/* Nested lists */
.mdx-ul .mdx-ul,
.mdx-ol .mdx-ol,
.mdx-ul .mdx-ol,
.mdx-ol .mdx-ul {
  margin-top: var(--space-xs); /* 8px */
  margin-bottom: 0;
}

/* ===== Tables (AC #5, #8) ===== */

.mdx-table-wrapper {
  width: 100%;
  overflow-x: auto;
  margin: var(--space-md) 0; /* 32px top/bottom */
}

.mdx-table {
  width: 100%;
  border-collapse: collapse;
  border-top: 2px solid var(--category-color, var(--color-cat-governance)); /* Article category color */
}

.mdx-thead {
  background-color: var(--color-surface-elevated);
}

.mdx-th {
  padding: 12px 16px;
  text-align: left;
  font-weight: var(--font-weight-bold);
  color: var(--color-text-primary);
  border-bottom: 1px solid var(--color-surface-elevated);
}

.mdx-td {
  padding: 12px 16px;
  color: var(--color-text-primary);
  border-bottom: 1px solid var(--color-surface-elevated);
}

/* Alternating row colors for scannability */
.mdx-tr:nth-child(even) {
  background-color: var(--color-surface);
}

.mdx-tr:nth-child(odd) {
  background-color: var(--color-surface-elevated);
}

/* ===== Images ===== */

.mdx-img-wrapper {
  margin: var(--space-md) 0; /* 32px top/bottom */
  max-width: 680px; /* Match article body width */
  width: 100%;
}

.mdx-img {
  border-radius: 8px;
  display: block;
  /* width, height, max-width handled by inline styles from next/image */
}

/* ===== First Element No Top Margin (AC #7) ===== */

.article-body > *:first-child {
  margin-top: 0;
}

/* ===== Mobile Responsive Adjustments ===== */

@media (max-width: 767px) {
  /* Heading sizes scale down on mobile */
  .mdx-h1 {
    font-size: 32px; /* Down from 48px */
  }

  .mdx-h2 {
    font-size: 24px; /* Down from 32px */
    margin-top: var(--space-md); /* 32px instead of 64px */
  }

  .mdx-h3 {
    font-size: 20px; /* Down from 24px */
    margin-top: var(--space-sm); /* 16px instead of 32px */
  }

  /* Summary smaller on mobile */
  .article-summary {
    font-size: 16px; /* Down from 18px */
    margin-bottom: var(--space-md); /* 32px instead of 64px */
    padding-bottom: var(--space-md);
  }

  /* Code blocks smaller padding on mobile */
  .mdx-pre {
    padding: var(--space-sm); /* 16px instead of 32px */
    margin: var(--space-sm) 0; /* 16px instead of 32px */
    font-size: 13px; /* Smaller font */
  }

  /* Blockquotes smaller padding on mobile */
  .mdx-blockquote {
    padding-left: var(--space-sm); /* 16px instead of 32px */
    margin: var(--space-sm) 0; /* 16px instead of 32px */
  }

  /* Tables smaller padding on mobile */
  .mdx-table-wrapper {
    margin: var(--space-sm) 0; /* 16px instead of 32px */
  }

  .mdx-th,
  .mdx-td {
    padding: 8px 12px; /* Smaller padding */
    font-size: 14px;
  }
}

/* ===== Accessibility - Prefers Reduced Motion ===== */

@media (prefers-reduced-motion: reduce) {
  .mdx-link {
    transition: none;
  }
}

/* ============================================
   Related Articles Section
   Story: 6.4 - Add Related Articles Section
   ============================================ */

/* Related Articles Container (AC #1, #6) */
.related-articles {
  max-width: var(--article-max-width); /* 680px to match article body */
  margin: var(--space-lg) auto 0; /* 64px top separation (8x base) */
  padding-bottom: var(--space-lg); /* 64px spacing before footer (6x base) */
}

/* Section Heading */
.related-articles-heading {
  font-size: var(--font-size-lg); /* 24px */
  font-weight: var(--font-weight-bold); /* 600 */
  line-height: var(--line-height-tight); /* 1.3 */
  color: var(--color-text-primary);
  margin-bottom: var(--space-md); /* 24px */
}

/* Related Articles Grid (AC #3) */
.related-articles-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* 2 columns on desktop per AC */
  gap: var(--space-sm); /* 16px gap between cards */
}

/* Related Article Card (AC #3) */
.related-article-card {
  display: flex;
  gap: var(--space-sm); /* 16px gap between thumbnail and content */
  padding: var(--space-sm); /* 16px padding (2x base) */
  background-color: var(--color-surface-elevated);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  text-align: left;
  transition: all var(--timing-fast) var(--easing-standard); /* 150ms */
  min-height: 44px; /* Accessibility: minimum touch target per AC #10 */
  width: 100%;
}

/* Hover effect: Lift + category color glow (AC #3) */
.related-article-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1),
              0 0 8px var(--category-color, rgba(212, 197, 160, 0.3));
}

/* Focus state: 2px outline with category color (AC #10) */
.related-article-card:focus {
  outline: 2px solid var(--category-color, var(--color-cat-ai-fundamentals));
  outline-offset: 2px;
}

/* Related Article Thumbnail (AC #3) */
.related-article-thumbnail {
  flex-shrink: 0;
  width: 80px; /* 80px  80px placeholder per AC #3 */
  height: 80px;
  border-radius: 6px;
  background: linear-gradient(135deg,
    var(--category-color, var(--color-cat-ai-fundamentals)) 0%,
    var(--color-surface) 100%);
}

/* Category-specific thumbnail gradients */
.related-article-thumbnail[data-category="ai-fundamentals"] {
  background: linear-gradient(135deg, var(--color-cat-ai-fundamentals) 0%, #8A633E 100%);
}
.related-article-thumbnail[data-category="risks-principles"] {
  background: linear-gradient(135deg, var(--color-cat-risks-principles) 0%, #412F1F 100%);
}
.related-article-thumbnail[data-category="legal-frameworks"] {
  background: linear-gradient(135deg, var(--color-cat-legal-frameworks) 0%, #6E4A2F 100%);
}
.related-article-thumbnail[data-category="ai-laws"] {
  background: linear-gradient(135deg, var(--color-cat-ai-laws) 0%, #9A7B52 100%);
}
.related-article-thumbnail[data-category="risk-frameworks"] {
  background: linear-gradient(135deg, var(--color-cat-risk-frameworks) 0%, #7F857F 100%);
}
.related-article-thumbnail[data-category="development-lifecycle"] {
  background: linear-gradient(135deg, var(--color-cat-development-lifecycle) 0%, #9C8D72 100%);
}
.related-article-thumbnail[data-category="governance"] {
  background: linear-gradient(135deg, var(--color-cat-governance) 0%, #AB916C 100%);
}
.related-article-thumbnail[data-category="auditing-assessment"] {
  background: linear-gradient(135deg, var(--color-cat-auditing-assessment) 0%, #6B7A48 100%);
}
.related-article-thumbnail[data-category="industry-perspectives"] {
  background: linear-gradient(135deg, var(--color-cat-industry-perspectives) 0%, #34381F 100%);
}
.related-article-thumbnail[data-category="explainability"] {
  background: linear-gradient(135deg, var(--color-cat-explainability) 0%, #557219 100%);
}
.related-article-thumbnail[data-category="videos"] {
  background: linear-gradient(135deg, var(--color-cat-videos) 0%, #545F2D 100%);
}

/* Related Article Content Container */
.related-article-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-xs); /* 8px gap */
  min-width: 0; /* Allow text truncation */
}

/* Related Article Title (AC #3) */
.related-article-title {
  font-size: 18px; /* 18px per AC #3 */
  font-weight: var(--font-weight-bold); /* 600 */
  line-height: 1.4;
  color: var(--color-text-primary);
  margin: 0;

  /* Clamp to 2 lines for overflow */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Related Article Meta (AC #3) */
.related-article-meta {
  font-size: var(--font-size-sm); /* 14px per AC #3 */
  color: var(--color-text-secondary);
  margin: 0;
}

/* Article Transition States (AC #4) */
.article-body {
  transition: opacity var(--timing-fast) ease-out; /* 150ms fade for crossfade */
}

.article-body.transitioning {
  opacity: 0;
}

/* Screen Reader Only Class (AC #4) */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ===== Mobile Responsive (AC #11) ===== */
@media (max-width: 767px) {
  .related-articles {
    margin-top: var(--space-lg); /* Reduced spacing on mobile: 48px */
    padding-bottom: var(--space-md); /* 32px */
  }

  .related-articles-grid {
    grid-template-columns: 1fr; /* Single column on mobile per AC #11 */
    gap: 12px; /* Reduced gap on mobile */
  }

  .related-article-card {
    padding: 12px;
  }

  .related-article-thumbnail {
    width: 80px; /* Keep consistent thumbnail size per AC #11 */
    height: 80px;
  }

  .related-article-title {
    font-size: 16px; /* Scaled down for mobile */
  }

  .related-article-meta {
    font-size: 13px;
  }
}

/* ===== Prefers Reduced Motion (AC #13) ===== */
@media (prefers-reduced-motion: reduce) {
  .related-article-card {
    transition: none;
  }

  .related-article-card:hover {
    transform: none; /* No lift animation */
  }

  .article-body {
    transition: none !important; /* Instant article transitions */
  }
}

/* ============================================
   Keyboard Navigation Focus Indicators
   Story: 6.5 - Implement Keyboard Navigation
   Requirement: UX-16 - Focus indicators must be visible 2px outlines using category accent colors
   ============================================ */

/* Remove default browser focus outline for mouse interactions only */
/* This preserves focus for keyboard users even if :focus-visible isn't supported */
*:focus:not(:focus-visible) {
  outline: none;
}

/* Apply custom focus-visible styles (only show when keyboard navigating) */
*:focus-visible {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

/* ===== Article Card Focus (Story 5.2 + 6.5) ===== */
.article-card:focus-visible {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

/* Category-specific article card focus colors */
.article-card[data-category="ai-fundamentals"]:focus-visible {
  outline-color: var(--color-cat-ai-fundamentals);
}
.article-card[data-category="risks-principles"]:focus-visible {
  outline-color: var(--color-cat-risks-principles);
}
.article-card[data-category="legal-frameworks"]:focus-visible {
  outline-color: var(--color-cat-legal-frameworks);
}
.article-card[data-category="ai-laws"]:focus-visible {
  outline-color: var(--color-cat-ai-laws);
}
.article-card[data-category="risk-frameworks"]:focus-visible {
  outline-color: var(--color-cat-risk-frameworks);
}
.article-card[data-category="development-lifecycle"]:focus-visible {
  outline-color: var(--color-cat-development-lifecycle);
}
.article-card[data-category="governance"]:focus-visible {
  outline-color: var(--color-cat-governance);
}
.article-card[data-category="auditing-assessment"]:focus-visible {
  outline-color: var(--color-cat-auditing-assessment);
}
.article-card[data-category="industry-perspectives"]:focus-visible {
  outline-color: var(--color-cat-industry-perspectives);
}
.article-card[data-category="explainability"]:focus-visible {
  outline-color: var(--color-cat-explainability);
}
.article-card[data-category="videos"]:focus-visible {
  outline-color: var(--color-cat-videos);
}

/* ===== Related Article Card Focus (Story 6.4 + 6.5) ===== */
.related-article-card:focus-visible {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

/* Category-specific related article card focus colors */
.related-article-card[data-category="ai-fundamentals"]:focus-visible {
  outline-color: var(--color-cat-ai-fundamentals);
}
.related-article-card[data-category="risks-principles"]:focus-visible {
  outline-color: var(--color-cat-risks-principles);
}
.related-article-card[data-category="legal-frameworks"]:focus-visible {
  outline-color: var(--color-cat-legal-frameworks);
}
.related-article-card[data-category="ai-laws"]:focus-visible {
  outline-color: var(--color-cat-ai-laws);
}
.related-article-card[data-category="risk-frameworks"]:focus-visible {
  outline-color: var(--color-cat-risk-frameworks);
}
.related-article-card[data-category="development-lifecycle"]:focus-visible {
  outline-color: var(--color-cat-development-lifecycle);
}
.related-article-card[data-category="governance"]:focus-visible {
  outline-color: var(--color-cat-governance);
}
.related-article-card[data-category="auditing-assessment"]:focus-visible {
  outline-color: var(--color-cat-auditing-assessment);
}
.related-article-card[data-category="industry-perspectives"]:focus-visible {
  outline-color: var(--color-cat-industry-perspectives);
}
.related-article-card[data-category="explainability"]:focus-visible {
  outline-color: var(--color-cat-explainability);
}
.related-article-card[data-category="videos"]:focus-visible {
  outline-color: var(--color-cat-videos);
}

/* ===== Filter Button Focus (Story 5.3 + 6.5) ===== */
.filter-btn:focus-visible {
  outline: 2px solid var(--color-text-primary);
  outline-offset: 2px;
}

/* Active filter button with category color focus */
.filter-btn.active:focus-visible {
  outline: 2px solid var(--color-text-primary);
  outline-offset: 2px;
}

/* ===== Navigation Item Focus (Story 4.4 + 6.5) ===== */
.nav-item:focus-visible {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 4px;
}

/* ===== Article Close Button Focus (Story 6.2 + 6.5) ===== */
.article-close:focus-visible {
  outline: 2px solid var(--color-text-primary);
  outline-offset: 2px;
}

/* Category-specific close button focus colors */
.article-close[data-category="ai-fundamentals"]:focus-visible {
  outline-color: var(--color-cat-ai-fundamentals);
}
.article-close[data-category="risks-principles"]:focus-visible {
  outline-color: var(--color-cat-risks-principles);
}
.article-close[data-category="legal-frameworks"]:focus-visible {
  outline-color: var(--color-cat-legal-frameworks);
}
.article-close[data-category="ai-laws"]:focus-visible {
  outline-color: var(--color-cat-ai-laws);
}
.article-close[data-category="risk-frameworks"]:focus-visible {
  outline-color: var(--color-cat-risk-frameworks);
}
.article-close[data-category="development-lifecycle"]:focus-visible {
  outline-color: var(--color-cat-development-lifecycle);
}
.article-close[data-category="governance"]:focus-visible {
  outline-color: var(--color-cat-governance);
}
.article-close[data-category="auditing-assessment"]:focus-visible {
  outline-color: var(--color-cat-auditing-assessment);
}
.article-close[data-category="industry-perspectives"]:focus-visible {
  outline-color: var(--color-cat-industry-perspectives);
}
.article-close[data-category="explainability"]:focus-visible {
  outline-color: var(--color-cat-explainability);
}
.article-close[data-category="videos"]:focus-visible {
  outline-color: var(--color-cat-videos);
}

/* ===== Menu Button Focus (Story 4.3 + 6.5) ===== */
.menu-button:focus-visible {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 4px;
}

.close-button:focus-visible {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

/* ===== CTA Button Focus (Story 4.1 + 6.5) ===== */
.cta-button:focus-visible {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 4px;
}

/* ===== Portfolio and Featured Article Focus (Story 4.2 + 6.5) ===== */
.portfolio-card-link:focus-visible {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

.featured-article:focus-visible {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

/* ===== Skip Link Focus (Story 4.1 + 6.5) ===== */
.skip-link:focus-visible {
  outline: 2px solid var(--color-cat-governance);
  outline-offset: 2px;
}

/* ===== Link Focus in MDX Content (Story 6.3 + 6.5) ===== */
.mdx-link:focus-visible {
  outline: 2px solid var(--category-color, var(--color-cat-governance));
  outline-offset: 2px;
}

/* ===== Contrast Enhancement for Dark Mode ===== */
/* Ensure 3:1 minimum contrast ratio per WCAG 2.1 Level AA (UX-16) */
/* All focus outlines use category colors which maintain 3:1 contrast against backgrounds */

/* Light mode contrast adjustments for specific low-contrast colors */
[data-theme="light"] .article-card[data-category="ai-laws"]:focus-visible,
[data-theme="light"] .related-article-card[data-category="ai-laws"]:focus-visible {
  outline-color: #9A7B52; /* Darker Camel for better contrast */
}

[data-theme="light"] .article-card[data-category="risk-frameworks"]:focus-visible,
[data-theme="light"] .related-article-card[data-category="risk-frameworks"]:focus-visible {
  outline-color: #7F857F; /* Dry Sage has sufficient contrast */
}

[data-theme="light"] .article-card[data-category="governance"]:focus-visible,
[data-theme="light"] .related-article-card[data-category="governance"]:focus-visible {
  outline-color: #9A7B52; /* Darker for better contrast */
}

/* ============================================
   Under Construction Page - Pancake Animation
   Temporary Landing Page
   ============================================ */

/* Under Construction Page Container */
.under-construction-page {
  background-color: #ffde6b;
  height: 100vh;
  width: 100vw;
  overflow: hidden;
  position: fixed;
  top: 0;
  left: 0;
}

.under-construction-page h1 {
  position: relative;
  margin: 0 auto;
  top: 25vh;
  width: 100vw;
  text-align: center;
  font-family: var(--font-family-sans);
  font-size: 6vh;
  font-weight: var(--font-weight-medium);
  color: #333;
  opacity: .75;
  animation: pulse 2.5s linear infinite;
}

#cooking {
  position: relative;
  margin: 0 auto;
  top: 0;
  width: 75vh;
  height: 75vh;
  overflow: hidden;
}

#cooking .bubble {
  position: absolute;
  border-radius: 100%;
  box-shadow: 0 0 .25vh #3d3d3d;
  opacity: 0;
}

#cooking .bubble:nth-child(1) {
  margin-top: 2.5vh;
  left: 58%;
  width: 2.5vh;
  height: 2.5vh;
  background-color: #454545;
  animation: bubble 2s cubic-bezier(.53, .16, .39, .96) infinite;
}

#cooking .bubble:nth-child(2) {
  margin-top: 3vh;
  left: 52%;
  width: 2vh;
  height: 2vh;
  background-color: #3d3d3d;
  animation: bubble 2s ease-in-out .35s infinite;
}

#cooking .bubble:nth-child(3) {
  margin-top: 1.8vh;
  left: 50%;
  width: 1.5vh;
  height: 1.5vh;
  background-color: #333;
  animation: bubble 1.5s cubic-bezier(.53, .16, .39, .96) .55s infinite;
}

#cooking .bubble:nth-child(4) {
  margin-top: 2.7vh;
  left: 56%;
  width: 1.2vh;
  height: 1.2vh;
  background-color: #2b2b2b;
  animation: bubble 1.8s cubic-bezier(.53, .16, .39, .96) .9s infinite;
}

#cooking .bubble:nth-child(5) {
  margin-top: 2.7vh;
  left: 63%;
  width: 1.1vh;
  height: 1.1vh;
  background-color: #242424;
  animation: bubble 1.6s ease-in-out 1s infinite;
}

#cooking #area {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 50%;
  height: 50%;
  background-color: transparent;
  transform-origin: 15% 60%;
  animation: flip 2.1s ease-in-out infinite;
}

#cooking #area #sides {
  position: absolute;
  width: 100%;
  height: 100%;
  transform-origin: 15% 60%;
  animation: switchSide 2.1s ease-in-out infinite;
}

#cooking #area #sides #handle {
  position: absolute;
  bottom: 18%;
  right: 80%;
  width: 35%;
  height: 20%;
  background-color: transparent;
  border-top: 1vh solid #333;
  border-left: 1vh solid transparent;
  border-radius: 100%;
  transform: rotate(20deg) rotateX(0deg) scale(1.3, .9);
}

#cooking #area #sides #pan {
  position: absolute;
  bottom: 20%;
  right: 30%;
  width: 50%;
  height: 8%;
  background-color: #333;
  border-radius: 0 0 1.4em 1.4em;
  transform-origin: -15% 0;
}

#cooking #area #pancake {
  position: absolute;
  top: 24%;
  width: 100%;
  height: 100%;
  transform: rotateX(85deg);
  animation: jump 2.1s ease-in-out infinite;
}

#cooking #area #pancake #pastry {
  position: absolute;
  bottom: 26%;
  right: 37%;
  width: 40%;
  height: 45%;
  background-color: #333;
  box-shadow: 0 0 3px 0 #333;
  border-radius: 100%;
  transform-origin: -20% 0;
  animation: fly 2.1s ease-in-out infinite;
}

@keyframes jump {
  0% {
    top: 24%;
    transform: rotateX(85deg);
  }
  25% {
    top: 10%;
    transform: rotateX(0deg);
  }
  50% {
    top: 30%;
    transform: rotateX(85deg);
  }
  75% {
    transform: rotateX(0deg);
  }
  100% {
    transform: rotateX(85deg);
  }
}

@keyframes flip {
  0% {
    transform: rotate(0deg);
  }
  5% {
    transform: rotate(-27deg);
  }
  30%,
  50% {
    transform: rotate(0deg);
  }
  55% {
    transform: rotate(27deg);
  }
  83.3% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

@keyframes switchSide {
  0% {
    transform: rotateY(0deg);
  }
  50% {
    transform: rotateY(180deg);
  }
  100% {
    transform: rotateY(0deg);
  }
}

@keyframes fly {
  0% {
    bottom: 26%;
    transform: rotate(0deg);
  }
  10% {
    bottom: 40%;
  }
  50% {
    bottom: 26%;
    transform: rotate(-190deg);
  }
  80% {
    bottom: 40%;
  }
  100% {
    bottom: 26%;
    transform: rotate(0deg);
  }
}

@keyframes bubble {
  0% {
    transform: scale(.15, .15);
    top: 80%;
    opacity: 0;
  }
  50% {
    transform: scale(1.1, 1.1);
    opacity: 1;
  }
  100% {
    transform: scale(.33, .33);
    top: 60%;
    opacity: 0;
  }
}

@keyframes pulse {
  0% {
    transform: scale(1, 1);
    opacity: .25;
  }
  50% {
    transform: scale(1.2, 1);
    opacity: 1;
  }
  100% {
    transform: scale(1, 1);
    opacity: .25;
  }
}

/* ===================================================================
   PROGRESSIVE ENHANCEMENT (Story 7.6)
   No-JS fallback: warning banner and static article pages
   =================================================================== */

/* No-JS Warning Banner */
.no-js-banner {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 9999;
  background: var(--color-cat-risks-principles); /* Warning color */
  color: var(--text-primary);
  padding: var(--spacing-sm) var(--spacing-md);
  text-align: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  border-bottom: 2px solid var(--border-color);
}

.no-js-banner p {
  margin: 0;
  font-size: var(--font-size-sm);
  line-height: var(--line-height-normal);
}

.no-js-banner strong {
  font-weight: var(--font-weight-bold);
}

/* Adjust body padding when no-JS banner is visible */
/* Note: Using margin-top on banner instead of body padding for better no-JS support */
/* The :has() selector may not reliably detect noscript content in all browsers */
.no-js-banner + * {
  margin-top: 60px; /* Prevent content from being hidden under fixed banner */
}

/* ===================================================================
   STATIC ARTICLE PAGE (Story 7.6)
   Progressive enhancement - no-JS fallback for direct article URLs
   =================================================================== */

/* Main page container */
.article-page-static {
  min-height: 100vh;
  padding: var(--spacing-xl) var(--spacing-md);
  background: var(--background);
}

/* Content wrapper - constrains max width for readability */
.article-static-container {
  max-width: var(--article-max-width); /* 680px */
  margin: 0 auto;
}

/* Breadcrumb navigation */
.article-breadcrumb {
  margin-bottom: var(--spacing-lg);
}

.breadcrumb-link {
  color: var(--text-secondary);
  text-decoration: none;
  font-size: var(--font-size-body);
  transition: color var(--transition-default);
}

.breadcrumb-link:hover {
  color: var(--text-primary);
  text-decoration: underline;
}

/* Article container */
.article-static {
  background: var(--surface);
  border-radius: var(--border-radius-lg);
  padding: var(--spacing-xl);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Article header */
.article-header-static {
  margin-bottom: var(--spacing-lg);
  border-bottom: 1px solid var(--border-color);
  padding-bottom: var(--spacing-md);
}

.article-title-static {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-tight);
  margin: var(--spacing-md) 0;
  color: var(--text-primary);
}

.article-meta-static {
  display: flex;
  gap: var(--spacing-xs);
  align-items: center;
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  margin-top: var(--spacing-sm);
}

/* Article excerpt */
.article-excerpt-static {
  font-size: var(--font-size-lg);
  color: var(--text-secondary);
  margin-bottom: var(--spacing-lg);
  padding: var(--spacing-md);
  background: var(--background);
  border-left: 4px solid var(--color-cat-governance);
  border-radius: var(--border-radius-sm);
}

.article-excerpt-static p {
  margin: 0;
}

/* Article body */
.article-body-static {
  font-size: var(--font-size-body);
  line-height: var(--line-height-relaxed);
  color: var(--text-primary);
}

/* Article body typography (inherit from MDX components) */
.article-body-static h2 {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-bold);
  margin-top: var(--spacing-xl);
  margin-bottom: var(--spacing-md);
  color: var(--text-primary);
}

.article-body-static h3 {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  margin-top: var(--spacing-lg);
  margin-bottom: var(--spacing-sm);
  color: var(--text-primary);
}

.article-body-static p {
  margin-bottom: var(--spacing-md);
}

.article-body-static ul,
.article-body-static ol {
  margin-bottom: var(--spacing-md);
  padding-left: var(--spacing-lg);
}

.article-body-static li {
  margin-bottom: var(--spacing-xs);
}

.article-body-static a {
  color: var(--color-cat-governance);
  text-decoration: underline;
  transition: color var(--transition-default);
}

.article-body-static a:hover {
  color: var(--color-cat-ai-fundamentals);
}

.article-body-static code {
  font-family: var(--font-mono);
  font-size: 0.9em;
  background: var(--background);
  padding: 2px 6px;
  border-radius: var(--border-radius-sm);
}

.article-body-static pre {
  background: var(--background);
  padding: var(--spacing-md);
  border-radius: var(--border-radius-md);
  overflow-x: auto;
  margin-bottom: var(--spacing-md);
}

.article-body-static pre code {
  background: none;
  padding: 0;
}

/* Video embed */
.article-video-static {
  margin-top: var(--spacing-xl);
  padding: var(--spacing-md);
  background: var(--background);
  border-radius: var(--border-radius-md);
}

.article-video-static h2 {
  font-size: var(--font-size-lg);
  margin-bottom: var(--spacing-sm);
}

.article-video-static a {
  color: var(--color-cat-governance);
  text-decoration: none;
  font-weight: var(--font-weight-semibold);
}

.article-video-static a:hover {
  text-decoration: underline;
}

/* Tags */
.article-tags-static {
  margin-top: var(--spacing-xl);
  padding-top: var(--spacing-md);
  border-top: 1px solid var(--border-color);
}

.tags-list {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-xs);
  list-style: none;
  padding: 0;
  margin: var(--spacing-sm) 0 0 0;
}

.tag-item {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  background: var(--background);
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--border-radius-full);
  border: 1px solid var(--border-color);
}

/* Footer navigation */
.article-footer-nav {
  margin-top: var(--spacing-xl);
  padding-top: var(--spacing-md);
  border-top: 1px solid var(--border-color);
}

.back-link {
  color: var(--text-secondary);
  text-decoration: none;
  font-size: var(--font-size-body);
  transition: color var(--transition-default);
}

.back-link:hover {
  color: var(--text-primary);
  text-decoration: underline;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .article-page-static {
    padding: var(--spacing-md);
  }

  .article-static {
    padding: var(--spacing-md);
  }

  .article-title-static {
    font-size: var(--font-size-xl);
  }

  .article-excerpt-static {
    font-size: var(--font-size-body);
  }
}

/* ==============================================
   404 Error Page (Story 8.4)
   ============================================== */

/* Primary action button (View All Articles) */
.not-found-primary-action:hover {
  opacity: 0.9;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(139, 69, 19, 0.2);
}

.not-found-primary-action:active {
  transform: translateY(0);
}

/* Secondary action button (Go to Homepage) */
.not-found-secondary-action:hover {
  background-color: var(--color-surface-elevated);
  border-color: var(--color-text-primary);
}

.not-found-secondary-action:active {
  transform: scale(0.98);
}

/* Focus states for accessibility */
.not-found-primary-action:focus-visible,
.not-found-secondary-action:focus-visible {
  outline: 2px solid var(--color-text-primary);
  outline-offset: 2px;
}
